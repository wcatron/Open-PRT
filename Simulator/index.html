<html>
	<head>
		<script src='js/server.js'></script>
		<script src='js/podcar.js'></script>
		<script src='js/rider.js'></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src='js/jquery.sparql.js'></script>
		<script src='js/Map.js'></script>
		<script>
		
		var server_1 = new Server();
		server_1.zone = [
						"node:3",
						"node:4",
						"node:5",
						"node:6",
						"node:7",
						"node:8"];
		var server_2 = new Server();
		server_2.zone = [
						"node:1",
						"node:2",
						"node:3",
						"node:8",
						"node:9",
						"node:10"];
		
		var servers = [server_1, server_2];
		
		var num_pod_cars = 10;
		var speed = 10; //distance per time
		var time = 0;
		
		for (var i = 0; i < num_pod_cars; i++) {
			var pod_car = new PodCar(i);
			pod_car.knownServers = servers;
			pod_car.setLocation({
				"link":"link:"+(i+1),
				"distance":10+i*4
			});
			pod_car.getBaseServer();
		} 
		
		var rider_1 = new Rider();
		rider_1.knownServers = servers;
		
		var rider_2 = new Rider();
		rider_2.knownServers = servers;
		
		var rider_3 = new Rider();
		rider_3.knownServers = servers;
		
		rider_1.requestRide("node:5","node:9");
		rider_2.requestRide("node:2","node:7");
		rider_3.requestRide("node:8","node:3");
		
		function next () {
			time += 1;
			for (var index in servers) {
				var server = servers[index];
				server.next();
			}
		}
		
		
		window.setInterval(function(){
		  /// call your function here
		  if (time < 350) {
		  	next();
		  }
		}, 50);
		
		</script>
	</head>
	<body>
	</body>
</html>